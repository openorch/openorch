"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[9369],{1233:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"built-in-services/data-svc","title":"Data Svc","description":"The data service is designed to help build backendless applications: the goal is to be able to save and query data directly from the frontend. Similarly to Firebase.","source":"@site/docs/built-in-services/data-svc.md","sourceDirName":"built-in-services","slug":"/built-in-services/data-svc","permalink":"/docs/built-in-services/data-svc","draft":false,"unlisted":false,"editUrl":"https://github.com/openorch/openorch/tree/main/docs-source/docs/built-in-services/data-svc.md","tags":[{"inline":true,"label":"user-svc","permalink":"/docs/tags/user-svc"},{"inline":true,"label":"permissions","permalink":"/docs/tags/permissions"},{"inline":true,"label":"roles","permalink":"/docs/tags/roles"},{"inline":true,"label":"authentication","permalink":"/docs/tags/authentication"},{"inline":true,"label":"authorization","permalink":"/docs/tags/authorization"},{"inline":true,"label":"services","permalink":"/docs/tags/services"}],"version":"current","sidebarPosition":100,"frontMatter":{"sidebar_position":100,"tags":["user-svc","permissions","roles","authentication","authorization","services"]},"sidebar":"tutorialSidebar","previous":{"title":"Model Svc","permalink":"/docs/built-in-services/model-svc"},"next":{"title":"Container Svc","permalink":"/docs/built-in-services/container-svc"}}');var a=i(74848),n=i(28453);const r={sidebar_position:100,tags:["user-svc","permissions","roles","authentication","authorization","services"]},l="Data Svc",o={},d=[{value:"Data types",id:"data-types",level:2},{value:"Objects",id:"objects",level:2},{value:"Data model",id:"data-model",level:3},{value:"Permission model",id:"permission-model",level:3},{value:"Readers",id:"readers",level:3},{value:"Authors",id:"authors",level:3},{value:"Writers",id:"writers",level:3},{value:"Deleters",id:"deleters",level:3},{value:"Conventions",id:"conventions",level:3},{value:"Table name and object ID",id:"table-name-and-object-id",level:4}];function c(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"data-svc",children:"Data Svc"})}),"\n",(0,a.jsx)(s.p,{children:"The data service is designed to help build backendless applications: the goal is to be able to save and query data directly from the frontend. Similarly to Firebase."}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsxs)(s.p,{children:["This page is a high level overview of the ",(0,a.jsx)(s.code,{children:"Data Svc"}),". For more details, please see the ",(0,a.jsx)(s.a,{href:"/docs/openorch/query",children:"Data Svc API documentation"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Aimed at prototyping or where building a service to store the data feels like an overkill. It doesn't aim to be a definitive and exclusively used datastore by any means."}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"Currently the Data Svc is being used with internal apps but the goal is to have a permission model that works for public apps (where adversarial users might be present). If you find a logical inconsitency that hinders building public apps, please report it."}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"data-types",children:"Data types"}),"\n",(0,a.jsx)(s.p,{children:'The Data Svc currently supports only untyped/dynamic/schemaless entries called "Objects".'}),"\n",(0,a.jsx)(s.h2,{id:"objects",children:"Objects"}),"\n",(0,a.jsx)(s.h3,{id:"data-model",children:"Data model"}),"\n",(0,a.jsx)(s.p,{children:"Multiple tenants (users, services) write to the same table(s). Rows are then owned by whoever created them and access is dictated by the permissions, see Permission Model below."}),"\n",(0,a.jsx)(s.h3,{id:"permission-model",children:"Permission model"}),"\n",(0,a.jsx)(s.p,{children:"The Data Svc has a permission model with the following goals:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Be simple & easy to understand"}),"\n",(0,a.jsx)(s.li,{children:"Be as versatile as possible while being simple"}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"To understand the permission model, lets disect an example entry:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'{\n  "authors": ["usr_12345", "org_67890"],\n  "data": {},\n  "deleters": ["usr_12345"],\n  "id": "pet_67890",\n  "readers": ["org_67890"],\n  "table": "pet",\n  "writers": ["org_67890"]\n}\n'})}),"\n",(0,a.jsx)(s.h3,{id:"readers",children:"Readers"}),"\n",(0,a.jsx)(s.p,{children:"Readers are user ids, organization ids or role ids that can read the entry."}),"\n",(0,a.jsxs)(s.p,{children:['You can specify other users\' IDs or IDs of organizations you are not part of. This can sometimes cause "spam" in multitenant applications where adversarial entities can be present on the same platform. To fix this issue, see the ',(0,a.jsx)(s.code,{children:"authors"})," field."]}),"\n",(0,a.jsx)(s.h3,{id:"authors",children:"Authors"}),"\n",(0,a.jsxs)(s.p,{children:["The ",(0,a.jsx)(s.code,{children:"authors"}),' field simply marks which user or organization created the entry. This field is used to avoid "spam".']}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:'In certain platforms spam is because anyone can "offer" a record to be read by an other user or organizations they are not part of. Sometimes this behaviour is undesired: imagine a chat application where strangers spam messages just by knowing the company ID. The Authors field fixes this.'}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"writers",children:"Writers"}),"\n",(0,a.jsx)(s.p,{children:"Writers are user ids, organization ids or role ids that can edit entry."}),"\n",(0,a.jsx)(s.h3,{id:"deleters",children:"Deleters"}),"\n",(0,a.jsx)(s.p,{children:"Deleters are user ids, organization ids or role ids that can delete the entry."}),"\n",(0,a.jsx)(s.h3,{id:"conventions",children:"Conventions"}),"\n",(0,a.jsx)(s.h4,{id:"table-name-and-object-id",children:"Table name and object ID"}),"\n",(0,a.jsx)(s.p,{children:"The ID of an object must be prefixed by the table name. For this reason, use singular table names if possible."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:'{\n  "table": "pet",\n  "id": "pet_67890"\n}\n'})})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);