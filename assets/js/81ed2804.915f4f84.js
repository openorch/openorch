"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[2671],{9297:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"running-the-daemon/docker-compose","title":"Docker Compose","description":"This deployment method is one step above local development in terms of sophistication. It\u2019s suitable for a development server or simple production environments.","source":"@site/docs/running-the-daemon/docker-compose.md","sourceDirName":"running-the-daemon","slug":"/running-the-daemon/docker-compose","permalink":"/docs/running-the-daemon/docker-compose","draft":false,"unlisted":false,"editUrl":"https://github.com/openorch/openorch/tree/main/docs-source/docs/running-the-daemon/docker-compose.md","tags":[{"inline":true,"label":"run","permalink":"/docs/tags/run"},{"inline":true,"label":"deploy","permalink":"/docs/tags/deploy"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["run","deploy"]},"sidebar":"tutorialSidebar","previous":{"title":"Running Locally","permalink":"/docs/running-the-daemon/locally"},"next":{"title":"Frontend Environment Variables","permalink":"/docs/running-the-daemon/frontend-environment-variables"}}');var t=o(74848),s=o(28453);const i={sidebar_position:2,tags:["run","deploy"]},a="Docker Compose",c={},d=[{value:"Once it&#39;s running",id:"once-its-running",level:2},{value:"Configuring",id:"configuring",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"docker-compose",children:"Docker Compose"})}),"\n",(0,t.jsx)(n.p,{children:"This deployment method is one step above local development in terms of sophistication. It\u2019s suitable for a development server or simple production environments."}),"\n",(0,t.jsx)(n.p,{children:"This snippet will give you a quick idea about how to deploy the frontend and backend containers so they play nicely together:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'version: "3.8"\n\nvolumes:\n  openorch-data:\n    name: openorch-data\n    driver: local\n\nservices:\n  openorch-frontend:\n    image: crufter/openorch-frontend:latest\n    ports:\n      - "3901:80"\n    environment:\n      # The `BACKEND_ADDRESS` must be accessible from the   browser.\n      # It is not an internal address, it\'s the address the   browser will make API requests to.\n      - BACKEND_ADDRESS=http://127.0.0.1:58231\n\n  openorch-backend:\n    image: crufter/openorch-backend:latest\n    ports:\n      - "58231:58231"\n    volumes:\n      # We mount the hostname to have a sensible fallback node URL\n      - /etc/hostname:/etc/host_hostname:ro\n      # We mount the docker socket so the backend can start   containers\n      - /var/run/docker.sock:/var/run/docker.sock\n      # We mount a volume so data will be persisted\n      - openorch-data:/root/.openorch\n    # For GPU acceleration uncomment the lines below and set the\n    # OPENORCH_GPU_PLATFORM envar.\n    # deploy:\n    #   resources:\n    #     reservations:\n    #       devices:\n    #         - driver: nvidia\n    #           count: all\n    #           capabilities: [gpu]\n    environment:\n      # This volume will be mounted by the LLM containers to access the models downloaded by OpenOrch.\n      - OPENORCH_VOLUME_NAME=openorch-data\n      #\n      # GPU Acceleration for NVIDIA GPUs\n      # Uncomment this envar for NVIDIA GPUs.\n      #\n      # - OPENORCH_GPU_PLATFORM=cuda\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Put the above into a file called ",(0,t.jsx)(n.code,{children:"docker-compose.yaml"})," in a folder on your computer and run it with the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker compose up\n"})}),"\n",(0,t.jsx)(n.h2,{id:"once-its-running",children:"Once it's running"}),"\n",(0,t.jsxs)(n.p,{children:["After the containers successfully start, you can go to ",(0,t.jsx)(n.code,{children:"127.0.0.1:3901"})," and log in with the ",(0,t.jsx)(n.a,{href:"/docs/running-the-daemon/using#default-credentials",children:"Default Credentials"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"configuring",children:"Configuring"}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"./backend-environment-variables/",children:"Backend Environment Variables"})," and ",(0,t.jsx)(n.a,{href:"./backend-environment-variables/",children:"Frontend Environment Variables"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);