"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[4159],{51012:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var t=o(74848),r=o(28453);const s={sidebar_position:2,tags:["run","deploy"]},i="Docker Compose",a={id:"running/docker-compose",title:"Docker Compose",description:"This deployment method is one step above local development in terms of sophistication. It\u2019s suitable for a development server or simple production environments.",source:"@site/docs/running/docker-compose.md",sourceDirName:"running",slug:"/running/docker-compose",permalink:"/docs/running/docker-compose",draft:!1,unlisted:!1,editUrl:"https://github.com/singulatron/superplatform/tree/main/docs-source/docs/running/docker-compose.md",tags:[{inline:!0,label:"run",permalink:"/docs/tags/run"},{inline:!0,label:"deploy",permalink:"/docs/tags/deploy"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["run","deploy"]},sidebar:"tutorialSidebar",previous:{title:"Running Locally",permalink:"/docs/running/locally"},next:{title:"Frontend Environment Variables",permalink:"/docs/running/frontend-environment-variables"}},c={},l=[{value:"Once it&#39;s running",id:"once-its-running",level:2},{value:"Configuring",id:"configuring",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,t.jsx)(e.p,{children:"This deployment method is one step above local development in terms of sophistication. It\u2019s suitable for a development server or simple production environments."}),"\n",(0,t.jsx)(e.p,{children:"This snippet will give you a quick idea about how to deploy the frontend and backend containers so they play nicely together:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'version: "3.8"\n\nvolumes:\n  singulatron-data:\n    name: singulatron-data\n    driver: local\n\nservices:\n  singulatron-frontend:\n    image: crufter/singulatron-frontend:latest\n    ports:\n      - "3901:80"\n    environment:\n      # The `BACKEND_ADDRESS` must be accessible from the   browser.\n      # It is not an internal address, it\'s the address the   browser will make API requests to.\n      - BACKEND_ADDRESS=http://127.0.0.1:58231\n\n  singulatron-backend:\n    image: crufter/singulatron-backend:latest\n    ports:\n      - "58231:58231"\n    volumes:\n      # We mount the docker socket so the backend can start   containers\n      - /var/run/docker.sock:/var/run/docker.sock\n      # We mount a volume so data will be persisted\n      - singulatron-data:/root/.singulatron\n    environment:\n      # This volume will be mounted by the LLM containers to access the models downloaded by Singulatron.\n      - SINGULATRON_VOLUME_NAME=singulatron-data\n      #\n      # GPU Acceleration for NVIDIA GPUs\n      # Uncomment this envar for NVIDIA GPUs.\n      #\n      # - SINGULATRON_GPU_PLATFORM=cuda\n'})}),"\n",(0,t.jsxs)(e.p,{children:["Put the above into a file called ",(0,t.jsx)(e.code,{children:"docker-compose.yaml"})," in a folder on your computer and run it with the following command:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-sh",children:"docker compose up\n"})}),"\n",(0,t.jsx)(e.h2,{id:"once-its-running",children:"Once it's running"}),"\n",(0,t.jsxs)(e.p,{children:["After the containers successfully start, you can go to ",(0,t.jsx)(e.code,{children:"127.0.0.1:3901"})," and log in with the ",(0,t.jsx)(e.a,{href:"/docs/running/using#default-credentials",children:"Default Credentials"}),"."]}),"\n",(0,t.jsx)(e.h2,{id:"configuring",children:"Configuring"}),"\n",(0,t.jsxs)(e.p,{children:["See the ",(0,t.jsx)(e.a,{href:"./backend-environment-variables/",children:"Backend Environment Variables"})," and ",(0,t.jsx)(e.a,{href:"./backend-environment-variables/",children:"Frontend Environment Variables"}),"."]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},28453:(n,e,o)=>{o.d(e,{R:()=>i,x:()=>a});var t=o(96540);const r={},s=t.createContext(r);function i(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);